
\begin{figure}

% \[
% \infer[(\textit{t-var})]
% {\Gamma \turn x : \Gamma(x)}
% {}
% \]

\[
\infer[(\textit{t-core})]
{ \begin{array}{l}
  \Gamma \turn 
   \{
      \mathtt{src=} e_1;\
      \mathtt{sched=} e_2; \
      \mathtt{win=} e_3;\\ \qquad \ \ 
      \mathtt{pp=} e_4;\
      \mathtt{ format=} e_5; 
   \} 
   : \schedulety * (\feedty{\optionty{\ty}})
 \end{array}
}
{
 \begin{array}{c}
  \Gamma \turn e_1 : \listty{\locty} \quad \
  \Gamma \turn e_2 : \schedulety \quad \
  \Gamma \turn e_3 : \timety\\
  \Gamma \turn e_4 : \optionty{\stringty} \arrow \optionty{\stringty}  \\
  \Gamma \turn e_5 : \optionty{\stringty} \arrow \optionty{\ty} \\
 \end{array}
}
\]

\[
\infer[(\textit{t-all})]
{ \begin{array}{l}
  \Gamma \turn \mathtt{all}\ \corefeed{} : \feedty{\sigma}
 \end{array}
}
{
 \begin{array}{c}
  \Gamma \turn \corefeed{} : \schedulety * (\feedty{\sigma})
 \end{array}
}
\]

\[
\infer[(\textit{t-any})]
{ \begin{array}{l}
  \Gamma \turn \mathtt{any}\ \corefeed{} : \feedty{\sigma}
 \end{array}
}
{
 \begin{array}{c}
  \Gamma \turn \corefeed{} : \schedulety * (\feedty{\sigma})
 \end{array}
}
\]

\[
\infer[(\textit{t-empty})]
{\Gamma \turn \emptyfeed : \feedty{\sigma}}
{}
\]

\[
\infer[(\textit{t-compute})]
{\Gamma \turn \computed{e_1}{x}{e_2} : \feedty{\ty}}
{
  \Gamma \turn e_2 : \schedulety &
  \Gamma,x{:}\timety \turn e_1 : \ty 
}
\]

\[
\infer[(\textit{t-comph})]
{\Gamma \turn \comprehensionfeed{e}{x}{\feed} : \feedty{\ty}}
{
  \Gamma \turn \feed :  \feedty{\sigma} &
  \Gamma,x{:}\sigma \turn e : \ty 
}
\]

\[
\infer[(\textit{t-filter})]
{\Gamma \turn \filterfeed{\feed}{e} : \feedty{\sigma}}
{
  \Gamma \turn \feed : \feedty{\sigma} &
  \Gamma \turn e : \sigma \arrow \boolty
}
\]

\[
\infer[(\textit{t-let})]
{\Gamma \turn \letfeed{x}{e_1}{\feed_2} : \feedty{\sigma_2}}
{
  \Gamma \turn e_1 : \ty_1 & 
  \Gamma,x{:}\ty_1 \turn \feed_2 : \feedty{\sigma_2} 
}
\]

\[
\infer[(\textit{t-union})]
{\Gamma \turn \feed_1 \unionfeed \feed_2  : \feedty{\sigma}}
{
  \Gamma \turn \feed_1 : \feedty{\sigma} &
  \Gamma \turn \feed_2 : \feedty{\sigma}
}
\]

\[
\infer[(\textit{t-sum})]
{\Gamma \turn \feed_1 \sumfeed \feed_2  : \feedty{\sigma_1 + \sigma_2}}
{
  \Gamma \turn \feed_1 : \feedty{\sigma_1} &
  \Gamma \turn \feed_2 : \feedty{\sigma_2}
}
\]

\[
\infer[(\textit{t-synch-pair})]
{\Gamma \turn (\feed_1, \feed_2)  : \feedty{\sigma_1 * \sigma_2}}
{
  \Gamma \turn \feed_1 : \feedty{\sigma_1} &
  \Gamma \turn \feed_2 : \feedty{\sigma_2}
}
\]

% \[
% \infer[(\textit{t-local-pair})]
% {\Gamma \turn \feed_1 * \feed_2  : \feedty{\sigma_1 * \sigma_2}}
% {
%   \Gamma \turn \feed_1 : \feedty{\sigma_1} &
%   \Gamma \turn \feed_2 : \feedty{\sigma_2}
% }
% \]

\[
\infer[(\textit{t-cont-pair})]
{\Gamma \turn x{:}\feed_1 * \feed_2  : \feedty{\sigma_1 * \sigma_2}}
{
  \Gamma \turn \feed_1 : \feedty{\sigma_1} &
  \Gamma,x{:}\sigma_1 \turn \feed_2 : \feedty{\sigma_2}
}
\]

\[
\infer[(\textit{t-local-pair})]
 {\Gamma \turn x{:}\feed_1 \allpairfeed \feed_2  : \feedty{\sigma_1 * \sigma_2}}
 {
   \Gamma \turn \feed_1 : \feedty{\sigma_1} &
   \Gamma,x{:}\sigma_1 \turn \feed_2 : \feedty{\sigma_2}
 }
\]

\[
\infer[(\textit{t-foreachcont})]
{\Gamma \turn \foreachcreate{x}{\feed_1}{\feed_2}  : \feedty{\sigma_2}}
{
  \Gamma \turn \feed_1 : \feedty{\sigma_1} &
  \Gamma,x{:}\sigma_1 \turn \feed_2 : \feedty{\sigma_2}
}
\]

\[
\infer[(\textit{t-foreachlocal})]
{\Gamma \turn \foreachupdate{x}{\feed_1}{\feed_2}  : \feedty{\sigma_2}}
{
  \Gamma \turn \feed_1 : \feedty{\sigma_1} &
  \Gamma,x{:}\sigma_1 \turn \feed_2 : \feedty{\sigma_2}
}
\]


% \[
% \infer[(\textit{t-pp})]
% {\Gamma \turn \ppfeed{\feed}{e} : \feedty{\ty}}
% {
%   \Gamma \turn \feed : \feedty{\ty} &
%   \Gamma \turn e : ((\locty * \timety) * \stringty) \arrow \stringty
% }
% \]

% \[
% \infer[(\textit{t-redirect})]
% {\Gamma \turn \remapfeed{\feed}{e} : \feedty{\ty}}
% {
%   \Gamma \turn \feed : \feedty{\ty} &
%   \Gamma \turn e : \locty * \timety \arrow \locty * \timety
% }
% \]

%% \[
%% \infer[(\textit{t-reschedule})]
%% {\Gamma \turn \refeed{\feed}{e} : \feedty{\optionty{\ty}}}
%% {
%%   \Gamma \turn \feed : \feedty{\ty} &
%%   \Gamma \turn e : \schedulety
%% }
%% \]

%% \[
%% \infer[(\textit{t-stutter})]
%% {\Gamma \turn \stutterfeed{\feed}{e} : \feedty{\ty}}
%% {
%%   \Gamma \turn \feed : \feedty{\ty} &
%%   \Gamma \turn e : \schedulety
%% }
%% \]


\[
\infer[(\textit{t-listf})]
{\Gamma \turn [\feed \bnfalt x \leftarrow e ]  : \feedty{\listty{\sigma}}}
{
  \Gamma \turn e : \listty{\tau} &
  \Gamma,x{:}\tau \turn \feed : \feedty{\sigma} 
}
\]

\caption{Feed Language Typing.}
\label{fig:typing}
\end{figure}
