\section{Proofs of Selected Lemmas and Theorems}
\label{app:extended-proofs}

\newenvironment{caseproof}
{\begin{list}{\textit{Case}}{
      \setlength{\itemsep}{12pt}
      \setlength{\parsep}{5pt}
      \setlength{\itemindent}{0.3in}
      \setlength{\leftmargin}{0in}
      \setlength{\listparindent}{0in}}}
{\end{list}}

\begin{list}{\textbf{Proof:}}{
      \setlength{\leftmargin}{0in}
      \setlength{\listparindent}{0in}}
\item Lemma~\ref{lemma:subst-comm}, part 3.
\begin{caseproof}
\item $\ptyvar'$:\quad $\ \exists\,\ity \; \mbox{\suchthat}\; \itpdsem[\ptyvar']
  = \ity \qquad
  \ \exists\,\ity \; \mbox{\suchthat}\; \itpdsem[\ty'] \equiv {\ipty \ity}$.

If $\ptyvar' = \ptyvar$ then $\itpdsem[\ptyvar'\subst {\ty'} \ptyvar]
= \itpdsem[\ty']$. From premise, we know 
\[
\itpdsem[\ty'] \equiv \ipty {\itpdsemstrip[\ty']} 
= (\ipty {\ptyvar_\pdbname})\subst {\itpdsemstrip[\ty']}{\ptyvar_\pdbname}
= \itpdsem[\ptyvar']\subst {\itpdsemstrip[\ty']}{\ptyvar_\pdbname}.
\]
So, $
\itpdsem[\ptyvar'\subst {\ty'} \ptyvar] \equiv
\itpdsem[\ptyvar']\subst {\itpdsemstrip[\ty']}{\ptyvar_\pdbname}
$.
As no variables of the form $\ptyvar_\repname$ appear, the result is
equal to $\itpdsem[\ptyvar']\xsub {\ty'} \ptyvar$.
\end{caseproof}

\item Lemma~\ref{lemma:subst-comm}, part 4.
\begin{caseproof}
\item $\papp \ty e$:

$\trans[{\papp \ty e},,]{\zsubabbrev{{\ty'}}{\ptyvar}} $
$= \trans[\ty,,]{\zsubabbrev{{\ty'}}{\ptyvar}}\; e{\zsubabbrev{{\ty'}}{\ptyvar}}$.
As $e$ cannot contain ${\parsenamecd_\ptyvar}$, 
$e{\zsubabbrev{{\ty'}}{\ptyvar}} = e\xsubabbrev{\ty'}{\ptyvar}$.
By induction, $\trans[\ty,,]{\zsubabbrev{\ty'}{\ptyvar}} \equiv
\trans[{\ty[{\ty'}/\ptyvar]},,]$. Taken together, we have
\[
\trans[\ty,,]{\zsubabbrev{\ty'}{\ptyvar}} \;
e{\zsubabbrev{{\ty'}}{\ptyvar}} \equiv
 \trans[{\ty[{\ty'}/\ptyvar]},,] \, e\xsub{\ty'}\ptyvar,
\] which, by the definition of substitution is equal to $\trans[{(\papp \ty e)[{\ty'}/\ptyvar]},,]$.

\item $\papp {\ty_1} {\ty_2}$:
%\begin{setlength}{\multlinegap}{50pt}
%\begin{multline}
\[
\trans[{\papp {\ty_1} {\ty_2}},,]{\zsubabbrev{{\ty'}}{\ptyvar}}%\\
= \trans[\ty_1,,]{\zsubabbrev{{\ty'}}{\ptyvar}}\;
[\itsem[\ty_2]{\zsubabbrev{{\ty'}}{\ptyvar}}]
[\itpdsemstrip[\ty_2]{\zsubabbrev{{\ty'}}{\ptyvar}}]
\trans[\ty_2,,]{\zsubabbrev{{\ty'}}{\ptyvar}}
\]
%\end{multline}
%\end{setlength}
By part 2, $\itsem[\ty_2]{\zsubabbrev{{\ty'}}{\ptyvar}} \equiv
\itsem[{\ty_2\subst {\ty'} \ptyvar}]$ 
and $[\itpdsemstrip[\ty_2]{\zsubabbrev{{\ty'}}{\ptyvar}}]\equiv
\itpdsemstrip[{\ty_2\subst {\ty'} \ptyvar}]$. So, by
\lemref{lemma:misc-synt-eq}, part 3, 
%\[
%\begin{setlength}{\multlinegap}{50pt}
\begin{multline}
\trans[\ty_1,,]{\zsubabbrev{{\ty'}}{\ptyvar}}\;
[\itsem[\ty_2]{\zsubabbrev{{\ty'}}{\ptyvar}}]
[\itpdsemstrip[\ty_2]{\zsubabbrev{{\ty'}}{\ptyvar}}]
\trans[\ty_2,,]{\zsubabbrev{{\ty'}}{\ptyvar}}\\
\equiv
\trans[\ty_1,,]{\zsubabbrev{{\ty'}}{\ptyvar}}\;
[\itsem[{\ty_2\subst {\ty'} \ptyvar}]]
[\itpdsemstrip[{\ty_2\subst {\ty'} \ptyvar}]]
\trans[\ty_2,,]{\zsubabbrev{{\ty'}}{\ptyvar}}.
\end{multline}
%\end{setlength}
%\]

The remainder of this case is analogous to the previous case. It is
proven by applying the induction hypothesis to the subcomponent types.

% By induction, $\trans[\ty,,]{\zsubabbrev{\ty'}{\ptyvar}} \equiv
% \trans[{\ty[{\ty'}/\ptyvar]},,]$. Taken together, we have
% \[
% \trans[\ty,,]{\zsubabbrev{\ty'}{\ptyvar}} \;  e{\zsubabbrev{{\ty'}}{\ptyvar}}=
%  \trans[{\ty[{\ty'}/\ptyvar]},,] \, e[{\ty'}/\ptyvar],
% \] which, by the definition of substitution is equal to $\trans[{(\papp \ty e)[{\ty'}/\ptyvar]},,]$.

\item $\pmu \ptyvar {} \ty$:

  Analagous to $\papp {\ty_1} {\ty_2}$. We use part 2 of the lemma for
  the type annotations.
\end{caseproof}

\item Lemma~\ref{lemma:eval-corr}.
\begin{caseproof}
\item all but App and TyApp: As $\trans[\ty,,]$ is a value and $\ty$ is normal, result is immediate.

\item App: \quad
$\begin{array}[t]{ll}
  \ty = \papp {\ty_1} e & \trans[\papp {\ty_1} e,,] \stepstok k v \\
  \ddck[\ty,,\kind,] & \trans[{\ty_1} e,,] = \trans[{\ty_1},,] e
\end{array}$

By Lemma~\ref{lemma:inversion},
  ${\ty_1} : \ity \iarrowi {\kind}$ and $e: \ity$.
By Lemma~\ref{lemma:kleene-eval-inv},
  $\trans[{\ty_1},,] \stepstok i {v_1}$
and
$e \stepstok j {v_2}$, with $i+j < k$.
By induction,
\begin{gather}
  {\ty_1} \kstepsto {\tyval_1},\label{eq:app-ind-1-1} \\
  {v_1} \iexpreq \trans[{\tyval_1},,],  \label{eq:app-ind-1-2}\\
  \itsem[{\ty_1}] \equiv \itsem[{\tyval_1}], \\
  \itpdsem[{\ty_1}] \equiv \itpdsem[{\tyval_1}].
\end{gather}
By (\ref{eq:app-ind-1-1}) and \ddc\ Preservation
(\lemref{lemma:ddc-preservation}), ${\tyval_1}:\ity \iarrowi {\kind}$.
So, by Lemma~\ref{lemma:norm-canon-form}, ${\tyval_1} = \plam x {}
{\ty_i}$.

By \lemref{lemma:kleene-eval} and (\ref{eq:app-ind-1-2}),
  $\trans[\papp {\ty_1} e,,] = \trans[{\ty_1},,] \; e \stepstok {(i+j)} {v_1}
  {v_2}   \iexpreq \trans[{\tyval_1},,] \; {v_2} $.

By Lemma~\ref{lemma:eval-unique},
   ${v_1}\; {v_2} \stepstok {k'} v$, where $k' = k - i - j$.
By Lemma~\ref{lemma:misc-synt-eq}, part 1,
  $\trans[{\tyval_1},,] \; {v_2} \stepstok {k'} v'$ and $v' \iexpreq v$.

Now, as  ${\tyval_1} = \plam x {}
{\ty_i}$, we have 
   $\trans[{\tyval_1},,] = \plam x {} {\trans[{\ty_i},,]}$. By evaluation rules,
   $\plam x {} {\trans[{\ty_i},,]} \; {v_2} \stepsto \trans[{\ty_i},,]\subst {v_2} x$
which, by Lemma~\ref{lemma:subst-comm},
   $= \trans[{\ty_i} \subst {v_2} x,,]$.
So, by Lemma~\ref{lemma:eval-unique},
  $\trans[{\ty_i}\subst {v_2} x,,] \stepstok {(k'-1)} v'$.

By Lemma~\ref{lemma:kleene-norm} and \ddc\ normalization,
\[
  \papp {\ty_1} e \kstepsto \papp {\tyval_1} {v_2} = \papp {\plam x
    {} {\ty_i}} {v_2} \stepsto {\ty_i}\subst {v_2} x.
\] 
So, by \ddc\ Preservation
(\lemref{lemma:ddc-preservation}),  $\stsem[{{\ty_i}\subst {v_2} x},{},{{\kind}}]$.
 
By induction,
\begin{gather}
  {\ty_i}\subst {v_2} x \kstepsto \tyval,\\
  v' \iexpreq \trans[\tyval,,],\\
  \itsem[{\ty_i}\subst {v_2} x] \equiv \itsem[\tyval],\\
  \itpdsem[{\ty_i}\subst {v_2} x] \equiv \itpdsem[\tyval].
%  \ddck[\tyval,{},{\kind},],\\
\end{gather}

Now, we prove the four necessary conlcusions in order. First, by
Lemma~\ref{lemma:kleene-norm}, part 5,
  $\papp {\ty_1} e \kstepsto \tyval$.
Second, as $v' \iexpreq v$, by Lemma~\ref{lemma:misc-synt-eq} 5,
  $v \iexpreq \trans[\tyval,,]$. 
Third,$\itsem[{\ty_1} e] =
  \itsem[{\ty_1}] \equiv \itsem[{\tyval_1}] = \itsem[\plam x {}
  {\ty_i}] = \itsem[{\ty_i}]$, which, by Lemma~\ref{lemma:subst-comm},
$= \itsem[{\ty_i}\subst {v_2} x]$. 
So, by transitivity of type equivalence,
  $\itsem[{\ty_1} e] \equiv \itsem[{\ty_i}\subst {v_2} x] \equiv \itsem[\tyval]$.
Last, by the same argument,
  $\itpdsem[{\ty_1} e] \equiv \itpdsem[{\ty_i}\subst {v_2} x] \equiv \itpdsem[\tyval]$

\item TyApp:\quad
$\begin{array}[t]{ll}
  \ty = \papp {\ty_1} {\ty_2} & \trans[{\ty_1} {\ty_2},,] \stepstok k v \\
  \ddck[\ty,,\kind,] & \trans[{\ty_1} {\ty_2},,] = \trans[{\ty_1},,]  [ \itsem[{\ty_2}] ] [ \itpdsemstrip[{\ty_2}] ] \trans[{\ty_2},,]
\end{array}$

The proof for TyApp is similar to App, but more complex due to the
more complicated parsing semantics of TyApp. As before, we start by
proving our induction hypothesis for the subcomponent types $\ty_1$
and $\ty_2$.

By Lemma~\ref{lemma:inversion}, ${\ty_1} : \kty \iarrowi {\kind}$ and 
${\ty_2}: \kty$.

By Lemma~\ref{lemma:kleene-eval-inv} parts 1 \& 2,
  $\trans[{\ty_1},,] \stepstok i {v_1}$ and $\trans[{\ty_2},,]
  \stepstok j
  {v_2}$, , with $i+j < k$.
By induction,
\begin{gather}
  {\ty_1} \kstepsto {\tyval_1},\\
  {v_1} \iexpreq \trans[{\tyval_1},,], \label{eq:tyapp-ind-1-2}\\
  \itsem[{\ty_1}] \equiv \itsem[{\tyval_1}], \\
  \itpdsem[{\ty_1}] \equiv \itpdsem[{\tyval_1}].
\end{gather}
and
\begin{gather}
  {\ty_2} \kstepsto {\tyval_2},\\
  {v_2} \iexpreq \trans[{\tyval_2},,],\label{eq:tyapp-ind-2-2}\\
  \itsem[{\ty_2}] \equiv \itsem[{\tyval_2}],\\
  \itpdsem[{\ty_2}] \equiv \itpdsem[{\tyval_2}]. \label{eq:tyapp-ind-2-4}
\end{gather}
By \ddc\ Preservation (\lemref{lemma:ddc-preservation}),
\begin{gather}
  {\tyval_1}:\kty \iarrowi {\kind}\\
  {\tyval_2}:\kty. \label{eq:ec-tyapp-4}
\end{gather}
So, by Lemma~\ref{lemma:norm-canon-form},
  ${\tyval_1} = {\plam \ptyvar {} {\ty_i}}$.
By definition of $\itpdsemstrip[\cdot]$ and (\ref{eq:tyapp-ind-2-4}),
  $\itpdsemstrip[{\ty_2}] \equiv \itpdsemstrip[{\tyval_2}]$.

Now, by \lemref{lemma:kleene-eval}, part 1, and (\ref{eq:tyapp-ind-1-2}),
\begin{setlength}{\multlinegap}{30pt}
  \begin{multline}
    \trans[{\ty_1} {\ty_2},,] 
    = \trans[{\ty_1},,]  [ \itsem[{\ty_2}] ] [ \itpdsemstrip[{\ty_2}] ] \trans[{\ty_2},,]\\
    \stepstok i {v_1} [ \itsem[{\ty_2}] ] [ \itpdsemstrip[{\ty_2}] ] \trans[{\ty_2},,]
    \iexpreq \trans[{\tyval_1},,] [ \itsem[{\ty_2}] ] [ \itpdsemstrip[{\ty_2}] ] \trans[{\ty_2},,]
  \end{multline}
\end{setlength}

By Lemma~\ref{lemma:eval-unique},
   ${v_1} [ \itsem[{\ty_2}] ] [ \itpdsemstrip[{\ty_2}] ]
   \trans[{\ty_2},,] \stepstok {(k-i)} v$
By Lemma~\ref{lemma:misc-synt-eq} 1a.,
  $\trans[{\tyval_1},,] [ \itsem[{\ty_2}] ] [ \itpdsemstrip[{\ty_2}] ]
  \trans[{\ty_2},,] \stepstok {(k-i)} v'$ and $v' \iexpreq v$.

Now, as ${\tyval_1} = {\plam \ptyvar {} {\ty_i}}$,
   $\trans[{\tyval_1},,] = \Lambda{\ptyvar_\repname}.\Lambda {\ptyvar_\pdbname}.\ilam {\parsenamecd_\ptyvar}{}{\trans[{\ty_i},,]}.$
By the evaluation rules,
\begin{align*}
   &(\Lambda{}{\ptyvar_\repname}.\Lambda{}{\ptyvar_\pdbname}.\lambda {\parsenamecd_\ptyvar}.\trans[{\ty_i},,]) [ \itsem[{\ty_2}] ] [ \itpdsemstrip[{\ty_2}] ] \trans[{\ty_2},,]
   %& &\qquad \qquad \qquad \qquad \qquad \qquad \qquad 
   \\
   &\stepsto (\Lambda{}{\ptyvar_\pdbname}.\lambda {\parsenamecd_\ptyvar}.\trans[{\ty_i},,])\subst{\itsem[{\ty_2}]}{\ptyvar_\repname} [ \itpdsemstrip[{\ty_2}] ] \trans[{\ty_2},,]\\
   &=  (\Lambda{}{\ptyvar_\pdbname}.\lambda {\parsenamecd_\ptyvar}.\trans[{\ty_i},,]\subst{\itsem[{\ty_2}]}{\ptyvar_\repname}) [ \itpdsemstrip[{\ty_2}] ] \trans[{\ty_2},,]\\
   &\stepsto (\lambda {\parsenamecd_\ptyvar}.\trans[{\ty_i},,]\subst{\itsem[{\ty_2}]}{\ptyvar_\repname})\subst{\itpdsemstrip[{\ty_2}]}{\ptyvar_\pdbname} \trans[{\ty_2},,]\\
   & =  (\lambda {\parsenamecd_\ptyvar}.\trans[{\ty_i},,]\subst{\itsem[{\ty_2}]}{\ptyvar_\repname}\subst{\itpdsemstrip[{\ty_2}]}{\ptyvar_\pdbname}) \trans[{\ty_2},,]\\
\intertext{As $\trans[{\ty_2},,] \stepstok j {v_2}$,}
   &\stepstok j (\lambda
   {\parsenamecd_\ptyvar}.\trans[{\ty_i},,]\subst{\itsem[{\ty_2}]}{\ptyvar_\repname}\subst{\itpdsemstrip[{\ty_2}]}{\ptyvar_\pdbname}) \; {v_2}\\
   &\stepsto \trans[{\ty_i},,]\subst{\itsem[{\ty_2}]}{\ptyvar_\repname}\subst{\itpdsemstrip[{\ty_2}]}{\ptyvar_\pdbname}\subst{v_2}{\parsenamecd_\ptyvar}\\
\intertext{By Lemma~\ref{lemma:misc-synt-eq}.2,}
   &\iexpreq \trans[{\ty_i},,]\subst{\itsem[{\ty_2}]}{\ptyvar_\repname}\subst{\itpdsemstrip[{\ty_2}]}{\ptyvar_\pdbname}\subst{\trans[{\tyval_2},,]}{\parsenamecd_\ptyvar}\\
\intertext{By Lemma~\ref{lemma:misc-synt-eq}.3,}
   &\iexpreq
   \trans[{\ty_i},,]\subst{\itsem[{\tyval_2}]}{\ptyvar_\repname}\subst{\itpdsemstrip[{\tyval_2}]}{\ptyvar_\pdbname}\subst{\trans[{\tyval_2},,]}{\parsenamecd_\ptyvar} \label{eq:ec-tyapp-5}
\end{align*}

By \ddc\ Inversion (Lemma~\ref{lemma:inversion}),
  $\ddck[\ty_i,{{\ptyvar{:}\kty};\cdot},\kind,]$, so by
  (\ref{eq:ec-tyapp-4}) and \lemref{lemma:pd-log-rel}, 
$\hhpred {\ty_i} \kind$ and $\hhpred {\ty_2} \kty$.
By definition of $\mathrm{H}$,
     $\exists\,\ity$ \suchthat{} $\itpdsem[\ty_i] \equiv \pdhdrty{} *
     \ity$ and
     $\exists\,\ity$ \suchthat{} $\itpdsem[\ty_2] \equiv \pdhdrty{} * \ity$.
so, by Lemma~\ref{lemma:subst-comm},
   $(\ref{eq:ec-tyapp-4}) \equiv \trans[{\ty_i} \subst{\tyval_2}{\ptyvar},,]$. 

By Lemma~\ref{lemma:eval-unique},
\[
   \trans[{\ty_i},,]\subst{\itsem[{\ty_2}]}{\ptyvar_\repname}\subst{\itpdsemstrip[{\ty_2}]}{\ptyvar_\pdbname}\subst{v_2}{\parsenamecd_\ptyvar} 
   \stepstok {(k-i-(j+3))} v'.
\]
By Lemma~\ref{lemma:misc-synt-eq} 1a.,
\[
  \trans[{\ty_i} \subst{\tyval_2}{\ptyvar},,] \stepstok {(k-i-j-3)}
  v'' \; \mbox{and}\; v'' \iexpreq v'.
\]

As ${\ty_1} \kstepsto {\tyval_1}$ and ${\ty_2} \kstepsto
{\tyval_2}$, by Lemma~\ref{lemma:kleene-norm} and \ddc\ normalization,
\[
  \papp {\ty_1} {\ty_2} \kstepsto \papp {\tyval_1} {\tyval_2}
  = {\plam \ptyvar {} {\ty_i}} \;{\tyval_2}  
  \stepsto {\ty_i}\subst{\tyval_2}{\ptyvar}.   
\]
So, by \ddc\ Preservation (\lemref{lemma:ddc-preservation}),
  $\ddck[{\ty_i}\subst{\tyval_2}{\ptyvar},{},{\kind},]$.

By induction,
\begin{gather}  
  {\ty_i}\subst{\tyval_2}{\ptyvar} \kstepsto \tyval,\\
  v'' \iexpreq \trans[\tyval,,],\\
  \itsem[{\ty_i}\subst{\tyval_2}{\ptyvar}] \equiv \itsem[\tyval],\\
  \itpdsem[{\ty_i}\subst{\tyval_2}{\ptyvar}] \equiv \itpdsem[\tyval] 
\end{gather}

Now, we prove the four necessary conlcusions in order. First, by
Lemma~\ref{lemma:kleene-norm}, part 5,
$  \papp {\ty_1} {\ty_2} \kstepsto  \tyval$

Second, as $v'' \iexpreq v'$ and $v' \iexpreq v$, by Lemma~\ref{lemma:misc-synt-eq} 5,
  $v \iexpreq \trans[\tyval,,]$.

Third,
\begin{align*}
\itsem[{\ty_1} {\ty_2}] &= \itsem[{\ty_1}] \itsem[{\ty_2}] \\
&\equiv \itsem[{\tyval_1}] \itsem[{\tyval_2}]              \\
&= \itsem[{\plam \ptyvar {} {\ty_i}}] \itsem[{\tyval_2}]           \\
&\equiv \itsem[{\ty_i}] \subst{\itsem[{\tyval_2}]}{\ptyvar_\repname}     \\
\intertext{which, by Lemma~\ref{lemma:subst-comm},}
&= \itsem[{\ty_i}\subst{\tyval_2}{\ptyvar}]
\end{align*}
By transitivity of type equivalence,
\[\itsem[\papp {\ty_1} {\ty_2}] \equiv \itsem[{\ty_i}\subst{\tyval_2}{\ptyvar}] \equiv \itsem[\tyval].\]

Last,
\begin{align*}
\itpdsem[{\ty_1} {\ty_2}] &= \itpdsem[{\ty_1}] \itpdsemstrip[{\ty_2}]\\
&\equiv \itpdsem[{\tyval_1}] \, \itpdsemstrip[{\tyval_2}]\\
&= \itpdsem[{\plam \ptyvar {} {\ty_i}}] \, \itpdsemstrip[{\tyval_2}]\\
&\equiv \itpdsem[{\ty_i}] \subst{\itpdsemstrip[{\tyval_2}]}{\ptyvar_\pdbname}\\
\intertext{which, by Lemma~\ref{lemma:subst-comm},}\\
&\equiv \itpdsem[{\ty_i}\subst{\tyval_2}{\ptyvar}]  
\end{align*}

By transitivity of type equivalence,
\[
\itpdsem[{\ty_1} {\ty_2}] \equiv
\itpdsem[{\ty_i}\subst{\tyval_2}{\ptyvar}]  \equiv \itpdsem[\tyval]
\]
\end{caseproof}

\item Lemma~\ref{lemma:hh-subst}.
\begin{caseproof}
\item ${\kind} = \kty$:\quad
  $\begin{array}[t]{l}
    \hhpred \ty \kty \qquad
    \hhpred {\ty'} \kty
  \end{array}$

   By definition of $\mathrm{H}$,
     $\exists\,\ity$ \suchthat{} $\itpdsem[\ty] \equiv \pdhdrty{} *
     \ity$ and
     $\exists\,\ity$ \suchthat{} $\itpdsem[\ty'] \equiv \pdhdrty{} * \ity$.
   Unpacking the first existential with an arbitrary $\ity$, we have $\itpdsem[\ty] \equiv \pdhdrty{} * \ity$. 
   By Lemma~\ref{lemma:subst-comm},\linebreak[0]
     $\itpdsem[{\ty[{\ty'}/\ptyvar]}] \equiv \itpdsem[\ty]\xsubabbrev{{\ty'}}{\ptyvar}$.
   By Pierce, Lemma~30.3.4 (Type Substitution),
     $\itpdsem[\ty]\xsubabbrev{{\ty'}}{\ptyvar} \equiv (\pdhdrty{} * \ity)\xsubabbrev{{\ty'}}{\ptyvar}$,
   so, by transitivity,
     $\itpdsem[{\ty[{\ty'}/\ptyvar]}] \equiv (\pdhdrty{} *
     \ity)\xsubabbrev{{\ty'}}{\ptyvar} = \pdhdrty{} *
     \ity\xsubabbrev{{\ty'}}{\ptyvar}$. The last equation is possible
     as $\pdhdrty$ is closed.
   Using $\ity\xsubabbrev{{\ty'}}{\ptyvar}$ as a witness, we get $\exists\,\ity'$ \suchthat{} $\itpdsem[\ty\subst{\ty'}{\ptyvar}] \equiv \pdhdrty{} * \ity'$.
   This result gives us $\hhpred {\ty\subst{\ty'}{\ptyvar}}{\kty}$.

\item ${\kind} = \kty \iarrowi {\kind'}$:\quad $\begin{array}[t]{l}
    \hhpred \ty {\kty \iarrowi \kind'} \qquad
    \hhpred {\ty'} \kty
  \end{array}$

  We know that
    $\exists\,\ity$ \suchthat{} $\itpdsem[{\ty'}] \equiv \pdhdrty{}
    * \ity$, and
    $\exists\,\ity$ \suchthat{} $\itpdsem[\ty] \equiv \ity$ and for
    all ${\ty_2}$ \suchthat{} $\hhpred{\ty_2}{ \kty}$, $\hhpred{\papp \ty {\ty_2} }{ {\kind'}}$.
  Want to prove:
    $\exists\,\ity$ \suchthat{} $\itpdsem[\ty\subst{\ty'}{\ptyvar}] \equiv \ity$ and 
      for all ${\ty_2}$ \suchthat{}$\hhpred{{\ty_2} }{ \kty}$,
      $\hhpred{\ty\subst{\ty'}{\ptyvar} \; {\ty_2} }{ {\kind'}}$.

  Part 1 (the "exists") uses same argument as case ${\kind} = \kty$.

  Part 2:
  Assume $\hhpred{{\ty_2}}{\kty}$ for some arbitrary ${\ty_2}$.
    WLOG, we can assume $\ptyvar \not \in \ftv {\ty_2}$, as, if it is, we can always
    $\alpha$-vary it. 
    From given, 
      $\hhpred{\papp \ty {\ty_2}}{ {\kind'}}$
    By induction,
      $\hhpred{(\papp \ty {\ty_2})\subst{\ty'}{\ptyvar}}{{\kind'}}$
    As $\ptyvar \not \in \ftv {\ty_2}$,
      ${\ty_2}\subst{\ty'}{\ptyvar} = {\ty_2}$
    So we have,
      $\hhpred{\ty\subst{\ty'}{\ptyvar} \; {\ty_2}}{{\kind'}}$.

\item ${\kind} = \ity \iarrowi {\kind'}$: \\
  Analogous to above.
\end{caseproof}

\item Lemma~\ref{lemma:pd-log-rel}.
\begin{caseproof}
\item Abs: \quad $\ddck[{\plam x {} \ty},{\pctxt;\ctxt},\ity \iarrowi \kind,{}] 
  \qquad \ddck[\ty,{\pctxt;\ctxt,x{:}\ity},\kind,{}]$

  We want to prove that $\hhpred{\plam x {} \ty}{\ity \iarrowi \kind}$.
  By induction, $\hhpred{\ty}{{\kind}}$, so $\itpdsem[\ty]$ exists, by which we know 
  $\itpdsem[\plam x {} \ty]$ exists.
  Next, for arbitrary $e$, we wish to prove that
      $\hhpred{(\plam x {} \ty) e}{\kind}$. 
    Now, 
      $\itpdsem[(\plam x {} \ty) e] = \itpdsem[(\plam x {} \ty)] =\itpdsem[\plam x {} \ty] = \itpdsem[\ty].$
    So, 
      $\itpdsem[(\plam x {} \ty) e] \equiv \itpdsem[\ty]$.
    By Lemma~\ref{lemma:eq-preserve-H}, and $\hhpred{\ty}{{\kind}}$, 
      $\hhpred{(\plam x {} \ty) e}{{\kind}}$.

\item Rec:\quad $\ddck[{\pmu \ptyvar {} \ty},{\pctxt;\ctxt},\kty,{}] 
  \qquad \ddck[\ty,{\pctxt,\ptyvar{:}\kty;\ctxt},\kty,{}]$

  We wish to prove that $\hhpred{{\pmu \ptyvar {} \ty}}{\kty}$, that is 
    $\exists\,\ity$ \suchthat{} $\itpdsem[{\pmu \ptyvar {} \ty}] \equiv \pdhdrty{} * \ity$.
  That is,
    $\exists\,\ity$ \suchthat{} $\pdhdrty{} * \imu {\ptyvar_\pdbname}
    {} {\itpdsem[\ty]} \equiv \pdhdrty{} * \ity$.
  By IH,
    $\hhpred{\ty}{\kty}$
  So,
    $\exists\,\ity'$ \suchthat{} $\itpdsem[\ty] \equiv \ity'$.
  Unpacking the existential with arbitrary $\ity'$, 
    $\ity = \imu {\ptyvar_\pdbname}{}{\ity'}$ serves as a witness for
    our desired result. 
\item TyAbs:\quad $\ddck[{\plam \ptyvar {} \ty},{\pctxt;\ctxt},\kty \iarrowi \kind,{}] 
  \qquad \ddck[\ty,{\pctxt,\ptyvar{:}\kty;\ctxt},\kind,{}]$

  We wish to prove that $\hhpred{{\plam \ptyvar {} \ty}}{\kty \iarrowi {\kind}}$, that is
    $\exists\,\ity$ \suchthat{} $\itpdsem[{\plam \ptyvar {} \ty}] \equiv \ity$ and for all ${\ty'}$
    \suchthat{} $\hhpred{{\ty'}}{ \kty}$, $\hhpred{({\plam \ptyvar {} \ty}) {\ty'} }{ {\kind}}$.
  First, let's prove that $\exists\,\ity$ \suchthat{} $\itpdsem[{\plam \ptyvar {} \ty}] \equiv \ity$.
  From derivation, $\ddck[\ty,{\pctxt,\ptyvar{:}\kty;\ctxt},\kind,]$. By induction, $\hhpred{\ty}{{\kind}}$, so $\exists\,\ity'$ \suchthat{} $\itpdsem[\ty] \equiv \ity'$.
  As $\itpdsem[{\plam \ptyvar {} \ty}] = \ilam{{\ptyvar_\pdbname}}{}{\itpdsem[\ty]}$, 
  we have $\ity = \ilam {\ptyvar_\pdbname}{}{\ity'}$ as a witness.
  Next, let's prove that for all ${\ty'}$ \suchthat{}
  $\hhpred{{\ty'}}{ \kty}$, $\hhpred{({\plam \ptyvar {} \ty}) \; {\ty'} }{ {\kind}}$.
  Assume $\hhpred{{\ty'}}{\kty}$ for some arbitrary ${\ty'}$.    
    By earlier induction and Lemma~\ref{lemma:sub-preserve-H}, $\hhpred{\ty\subst{\ty'}{\ptyvar}}{{\kind}}$.

    Now, if we can prove that
      $\itpdsem[\ty\subst{\ty'}{\ptyvar}] \equiv \itpdsem[({\plam
        \ptyvar {} \ty}) \;{\ty'}]$, then we can use
      \lemref{lemma:eq-preserve-H} to obtain our result.
    By definition of $\mathrm{H}$, $\exists\,\ity$ \suchthat{}
    $\itpdsem[\ty'] \equiv \ipty \ity$, so, by Lemma~\ref{lemma:subst-comm},
      $\itpdsem[\ty\subst{\ty'}{\ptyvar}] \equiv
      \itpdsem[\ty]\xsubabbrev{{\ty'}}{\ptyvar} = \itpdsem[\ty][\itpdsemstrip[{\ty'}]/{\ptyvar_\pdbname}]$.
    By Q-AppAbs,
      $\itpdsem[\ty][\itpdsemstrip[{\ty'}]/{\ptyvar_\pdbname}] \equiv (\lambda{\ptyvar_\pdbname}.\itpdsem[\ty]) \itpdsemstrip[{\ty'}]$.
    So,
      $\itpdsem[\ty\subst{\ty'}{\ptyvar}] \equiv (\lambda{\ptyvar_\pdbname}.\itpdsem[\ty]) \itpdsemstrip[{\ty'}]
      = \itpdsem[({\plam \ptyvar {} \ty})] \itpdsemstrip[{\ty'}]
      = \itpdsem[({\plam \ptyvar {} \ty}) \; {\ty'}]$.
    So, by Lemma~\ref{lemma:eq-preserve-H} and
    $\hhpred{\ty\subst{\ty'}{\ptyvar}}{{\kind}}$, we have
    $\hhpred{({\plam \ptyvar {} \ty}) \; {\ty'}}{{\kind}}$.
\end{caseproof}

\item \lemref{lem:type-correctness}.
\begin{caseproof}
\item Rec:\quad $\ddck[{\pmu \ptyvar {} \ty},{\pctxt;\ctxt},\kty,{}] 
  \qquad \ddck[\ty,{\pctxt,\ptyvar{:}\kty;\ctxt},\kty,{}]$
  
We wish to prove that $\stsem[{\trans[{\pmu \ptyvar {} \ty},,]},{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}},{\kTrans[{\kty},{{\pmu \ptyvar {} \ty} }]}]$.

By induction, 
   \[
   \stsem[{\trans[\ty,,]},{{\fotyc
       \pctxt},{\ptyvar_\repname}\mathrel{::}\kty,{\ptyvar_\pdbname}\mathrel{::}\kty,\ctxt,{\ptyc \pctxt},{\parsenamecd_\ptyvar}{:}\kTrans[{\kty},{\ptyvar}]},{\kTrans[{\kty},{\ty}]}]
   \]
   
From derivation and \lemref{lemma:rep-ty-well-form}, 
\begin{gather}
  \wfty{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}}{\itsem[{\pmu \ptyvar {} \ty}]}{\kty}\\
   \wfty{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}}{\itpdsem[{\pmu \ptyvar
       {} \ty}]}{\kty} \label{eq:tc-rec-2}\\
   \wfty{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}}{\itpdsemstrip[{\pmu \ptyvar {} \ty}]}{\kty}  
\end{gather}

Let $\ssubabbrev = \xsubabbrev{{\pmu \ptyvar {} \ty}}{\ptyvar}$.
By Type Substitution, TAPL Lemma 30.3.4, part 3:
   \begin{equation}
   \stsem[{\trans[\ty,,]\ssubabbrev},{{\fotyc
       \pctxt},\ctxt\ssubabbrev,{\ptyc
       \pctxt}\ssubabbrev,{\parsenamecd_\ptyvar}{:}\kTrans[{\kty},{\ptyvar}]\ssubabbrev},{\kTrans[{\kty},{\ty}]\ssubabbrev}]
   \label{eq:tc-rec-3}
   \end{equation}
From the derivation and \lemref{lemma:pd-log-rel}, 
$\hhpred {\pmu \ptyvar {} \ty} \kty$. 
By definition of $\mathrm{H}$, $\exists\,\ity$ \suchthat{}
    $\itpdsem[{\pmu \ptyvar {} \ty}] \equiv \ipty \ity$
From this result, (\ref{eq:tc-rec-2}), and \lemref{lemma:pt-subst-comm},
   \[
   \kTrans[{\kty},{\ptyvar}]\ssubabbrev \equiv \kTrans[\kty,{\ptyvar[{\pmu
       \ptyvar {} \ty}/\ptyvar]}] = \kTrans[{\kty},{{\pmu \ptyvar {}
       \ty}}]
   \]
This result, (\ref{eq:tc-rec-3}) and \lemref{lemma:fomega-ty-eq-props}, part~\ref{lemma:fomega-eq-hyp-typing},
give us
   \[
   \stsem[{\trans[\ty,,]\ssubabbrev},{{\fotyc
       \pctxt},\ctxt\ssubabbrev,{\ptyc
       \pctxt}\ssubabbrev,{\parsenamecd_\ptyvar}{:}\kTrans[{\kty},{{\pmu \ptyvar {} \ty}}]},{\kTrans[{\kty},{\ty}]\ssubabbrev}]
   \]

As $\ptyvar \not \in \ftv {\pctxt;\ctxt}$ (can always $\alpha$-vary to ensure this),
   \[
   \stsem[{\trans[\ty,,]\ssubabbrev},{{\fotyc \pctxt},\ctxt,{\ptyc
       \pctxt},{\parsenamecd_\ptyvar}{:}\kTrans[{\kty},{{\pmu \ptyvar
         {} \ty}}]},{\kTrans[{\kty},{\ty}]\ssubabbrev}]
   \]
which is equivalent to:
   \[
   \stsem[{\trans[\ty,,]\ssubabbrev},{{\fotyc \pctxt},\ctxt,{\ptyc
       \pctxt},{\parsenamecd_\ptyvar}{:}\kTrans[{\kty},{{\pmu \ptyvar
         {} \ty}}]},
   {\ibitsty * \ioffty \iarrowi \ioffty * \itsem[\ty] \ssubabbrev *
     \itpdsem[\ty]\ssubabbrev}]
   \]

By typing (and expanding out $\ssubabbrev$),
\begin{gather}
   \stsem[{w},{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}},{\ioffty}]\\
   \stsem[{r},{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}},{\itsem[\ty]
     [\itsem[{\pmu \ptyvar {} \ty}]/{\ptyvar_\repname},
     \itpdsemstrip[{\pmu \ptyvar {} \ty}]/{\ptyvar_\pdbname}]}]\\
   \stsem[{p},{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}},
   {\itpdsem[\ty] [\itsem[{\pmu \ptyvar {} \ty}]/{\ptyvar_\repname}, 
     \itpdsemstrip[{\pmu \ptyvar {} \ty}]/{\ptyvar_\pdbname}]}].
\end{gather}

By Rep. Type Well-Formedness Lemma,
  $\wfty{{\fortyc \pctxt},\ctxt}{\itsem[\ty]}{\kty}$ and 
  $\wfty{{\fopdtyc \pctxt},\ctxt}{\itpdsem[\ty]}{\kty}$.

So, ${\ptyvar_\pdbname} \not \in \ftv {\itsem[\ty]}$,
${\ptyvar_\repname} \not \in \ftv{\itpdsem[\ty]}$ and, therefore,
\begin{gather}
   \stsem[{r},{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}},{\itsem[\ty]
     [\itsem[{\pmu \ptyvar {} \ty}]/{\ptyvar_\repname}]}]\mbox{, and}\\
   \stsem[{p},{{\fotyc \pctxt},\ctxt,{\ptyc \pctxt}},
   {\itpdsem[\ty] [\itpdsemstrip[{\pmu \ptyvar {} \ty}]/{\ptyvar_\pdbname}]}].  
\end{gather}

As $\itsem[{\pmu \ptyvar {} \ty}] = \imu {\ptyvar_\repname}{\itsem[\ty]}$,
   \[\stsem[{\iroll r {\itsem[{\pmu \ptyvar {} \ty}]}},{{\fotyc
       \pctxt},\ctxt,{\ptyc \pctxt}},{\imu
     {\ptyvar_\repname}{\itsem[\ty]} (= \itsem[{\pmu \ptyvar {}
       \ty}])}].
   \]

As $\itpdsemstrip[{\pmu \ptyvar {} \ty}] = \imu {\ptyvar_\pdbname}{\itpdsem[\ty]}$,
   \[\stsem[{\iroll p {\itpdsemstrip[{\pmu \ptyvar {} \ty}]}},{{\fotyc
       \pctxt},\ctxt,{\ptyc \pctxt}},{\imu
     {\ptyvar_\pdbname}{\itpdsem[\ty]}}]
   (= \itpdsemstrip[{\pmu \ptyvar {} \ty}]).
   \]
\item TyApp: 

Analagous to Rec, in that it relies on \lemref{lemma:subst-comm}.
\end{caseproof}

\item Lemma~\ref{lem:err-corr-at-T}.
\begin{caseproof}
\item $\ptrue$: \quad $\ptrue : \kty \qquad
  \trans[\ptrue,,](\idatan,\off) \stepstok k {\itup{\off',r,p}}$

  We wish to prove that $\corrkl{\ptrue}{r}{p}$. That is, $\ptrue \kstepsto \tyval $
    and $\corr{\tyval}{r}{p}$. As $\ptrue$ is normal, it suffices to prove that $\corr{\ptrue}{r}{p}$.
  By the definition of $\trans[\ptrue,,]$, we have $r = \newrep{\ptrue}{}$ and $p = \newpd{\ptrue}{\off}$.
  By \lemref{lem:cons-props}, then, we know that
     $\corr{\ptrue}{r}{p}$.

\item ${\ty_1} {\ty_2}$:\quad ${\ty_1} {\ty_2} : \kty \qquad 
  \trans[\papp {\ty_1} {\ty_2},,] (\idatan,\off) \stepstok{k}
  {\itup{\off',r,p}}$

  We wish to prove that $\corrkl{\papp {\ty_1}{\ty_2}}{r}{p}$. That
  is, $\papp {\ty_1} {\ty_2} \kstepsto \tyval $
    and $\corr{\tyval}{r}{p}$.
  We prove each clause in order. First, by Lemma~\ref{lemma:kleene-eval-inv}, part 1,
    $\trans[\papp {\ty_1} {\ty_2},,] \stepstok i v$, with $i < k$.
  By Lemma~\ref{lemma:kleene-eval-inv}, part 1, we know that
    $i > 0$.
  By Lemma~\ref{lemma:eval-corr},
    $\papp {\ty_1} {\ty_2} \kstepsto \tyval$ and $v \iexpreq
    \trans[\tyval,,]$.
  Now, we wish to prove the second clause by applying the induction
  hypothesis to the normal type $\tyval$. We therefore aim to show
  that $\trans[\tyval,,] (\idatan,\off) \stepstok j
  {\itup{\off',r,p}}$, for some $j < k$.
  Now, by Lemma~\ref{lemma:kleene-eval},
    $\trans[\papp {\ty_1} {\ty_2},,] (\idatan,\off) \stepstok{i} v \;
    (\idatan,\off)$, so, by Lemma~\ref{lemma:eval-unique},
     $v \; (\idatan,\off) \stepstok{(k-i)} {\ictup{\off',r,p}}$.
  Together with Lemma~\ref{lemma:misc-synt-eq}, part 1, we have
    $\trans[\tyval,,] (\idatan,\off) \stepstok{(k-i)} {v_t}$ and ${v_t}
    \iexpreq {\itup{\off',r,p}}$, which is nearly what we want.
  But, as $\itup{\off',r,p}$ contains no type annotations,
    $v_t = {\ictup{\off',r,p}}$, so, indeed, $\trans[\tyval,,] (\idatan,\off) \stepstok j
  {\itup{\off',r,p}}$, with $k-i < k$,  as $i >0$. 
  By \lemref{lemma:ddc-preservation} we know that $\tyval:\kty$, so,
  by induction, we have $\corrkl{\tyval}{r}{p}$. 
  As $\tyval$ is normal, this result implies that $\corr{\tyval}{r}{p}$.

\item ${\pmu \ptyvar {} \ty}$: \quad
  $
  {\pmu \ptyvar {} \ty} : \kty \qquad
  \trans[{\pmu \ptyvar {} \ty},,](\idatan,\off) \stepstok{k}
  {(\off',r,p)}
  $
  
  By definition of $\trans[{\pmu \ptyvar {} \ty},,]$ and Evaluation
  Uniqueness (\lemref{lemma:eval-unique}),
  \begin{setlength}{\multlinegap}{70pt}
    \begin{multline*}
      \trans[{\pmu \ptyvar {} \ty},,](\idatan,\off) \\
      \stepsto  
      \ilets {(\off',\nrm {r_1},\nrm {p_1})} {\trans[\ty,,]\zsubabbrev {\pmu \ptyvar \gk \ty} \ptyvar 
        \iappi \ictup{\data,\off}}\; \iin{}
      \; \ictup{\ldots}\\
      \stepstok {(k-1)} {(\off',r,p)} 
    \end{multline*}
  \end{setlength}
  By Lemma~\ref{lemma:kleene-eval-inv}, part 3, 
    $\trans[\ty,,]\zsubabbrev {\pmu \ptyvar {} \ty} \ptyvar (\idatan,\off) \stepstok{i} v'$,
    with $i < k-1$.
  As ${\pmu \ptyvar {} \ty} : \kty$ and by \ddc\ Inversion (Lemma~\ref{lemma:inversion}),
  $\ddck[\ty,{{\ptyvar{:}\kty};\cdot},\kty,]$, \lemref{lemma:pd-log-rel}
  gives us $\hhpred \ty \kty$ and $\hhpred {\pmu \ptyvar {} \ty} \kty$. 
By \lemref{lemma:H-prop}, $\exists\,\ity$ \suchthat{} $\itpdsem[\ty] =
\ity$ and by definition of $\mathrm{H}$, $\exists\,\ity$ \suchthat{}
    $\itpdsem[{\pmu \ptyvar {} \ty}] \equiv \ipty \ity$. 
So, by Commutativity of Substitution (Lemma~\ref{lemma:subst-comm}),
    $\trans[\ty,,] \zsubabbrev {\pmu \ptyvar {} \ty} \ptyvar \iexpreq
    \trans[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}},,]$. Therefore,
    by \lemref{lemma:misc-synt-eq}, part 1,
    $\trans[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}},,] (\idatan,\off)
    \stepstok{i} v''$, with $i < k-1$.

  Next, we seek to establish the shape of $v''$.
  By \ddc\ Substitution (Lemma~\ref{lemma:ty-ty-subst}), 
    $\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar} : \kty$.
  By Type Correctness (\thmref{thm:type-correctness}), 
  \[
  \trans[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}},,] : \ibitsty
  \iprodi \ioffty \iarrowi \ioffty \iprodi 
  \itsem[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}}] 
  \iprodi \itpdsem[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}}].\]
  By \fomega\ typing,
  \[
  \trans[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}},,] (\idatan,\off) : 
  \ioffty \iprodi 
  \itsem[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}}] \iprodi 
  \itpdsem[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}}].
  \] 
  So, by \fomega\ preservation, $v'' : 
  \ioffty \iprodi 
  \itsem[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}}] \iprodi 
  \itpdsem[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}}]$. 
  and by the \fomega\ canonical forms lemma, $v'' = (\off_1,{r_1},p_1)$.
  
  Putting these conclusions together, we have
  $\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar} : \kty$ and $
  \trans[{\ty\subst{\pmu \ptyvar {} \ty}{\ptyvar}},,] (\idatan,\off)
    \stepstok{i} (\off_1,{r_1},p_1)$, with $i < k-1$. 
  So, by induction, $\corrkl{\ty\subst{\pmu \ptyvar {}
      \ty}{\ptyvar}}{r_1}{p_1}$.
  By definition of $\trans[{\pmu \ptyvar {} \ty},,]$, $r = \iroll
  {r_1}{\itsem[\pmu \ptyvar \gk \ty]}$ and
  $p = (p_1.h,\iroll {p_1}{\itpdsemstrip[\pmu \ptyvar\gk \ty]})$.
  By definition of canonical forms, $\corr{\pmu \ptyvar {} \ty} r p$.
  As ${\pmu \ptyvar {} \ty}$ is normal, we have 
  $\corrkl{\pmu \ptyvar {} \ty} r p$.
\end{caseproof}
\end{list}

% Translations:
% Z(t,a)
% X(t,a)
% [t] : $[^mpk]$\[$[^][]*$\] -> \1\\trans[\2,,]
% D_G
% D;G |- t : k
% == -> \equiv, \iexpreq
% f_a -> {\parsenamecd_\ptyvar}
% PT(D) -> {\ptyc \pctxt}
% G
% D
% S
% a not in FTV(...)
% {\pmu \ptyvar {} \ty}
% ->* \kstepsto
% t
% s
% n
% H(.:.)
% pd_hdr: \pdhdrty{}
% ->k
% ->(.)
% ->
% \x.t
% \a.t -> {\plam \ptyvar {} \ty}
% /\ -> \itylam
% a_rep
% a_Pb
% u
% k
% a:T : {\ptyvar{:}\kty}
% T
% :
% ::
% {./.} -> {$[^{}]*?/[^{}]*?$} -> [\1]
% $ -> $
% $ -> $
% lemma{.} -> Lemma~\ref{lemma;.}
% lemma{lemma:.} -> Lemma~\ref{lemma:.}
% a
% w
% unit

% b,o

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "~/projects/thesis/thesis"
%%% End: 
