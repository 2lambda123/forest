\section{Related Work}
\label{sec:related}

To the best of our knowledge, our work on \ddcold{} and \ddc{} is the
first to provide a formal interpretation of dependent types as parsers
and to study the properties of these parsers including error
correctness and type safety. Of course, there are other formalisms for
defining parsers, most famously, regular expressions and contex-free
grammars.  In terms of recognition power, these formalisms differ from
our type theory in that they have nondeterministic choice, but do not
have dependency or constraints.  We have found that dependency and
constraints are absolutely essential for describing most of the ad hoc
data sources we have studied.  Perhaps more importantly though, unlike
standard theories of context-free grammars, we do not treat our type
theory merely as a recognizer for a collection of strings.  Our
type-based descriptions define {\em both} external data formats {\em
  and} rich invariants on the internal parsed data structures.  This
dual interpretation of types lies at the heart of tools such as \pads,
\datascript{} and \packettypes{}.

{\em Parsing Expression Grammars} (PEGs), studied in the early
70s~\cite{birman+:parsing} and revitalized more recently by
Ford~\cite{ford:pegs}, evolved from context-free grammars but have
deterministic, prioritized choice like \ddc{} as opposed to
nondeterministic choice.  Though PEGs have syntactic lookahead
operators, they may be parsed in linear time through the use of
``packrat parsing'' techniques~\cite{ford:packrat,grimm:packrat}.
Once again, our multiple interpretations of types in \ddc{} makes our
theory substantially different from the theory of PEGs.

There are many parallels between \ddc{} and {\it parser
  combinators}~\cite{burge:parser-combinators,hutton+:parser-combinators}.
In particular, \ddc{}'s dependent sum construct is reminiscent of the
bind operator in the monadic formulation of parser combinators.
Parser combinators, however, are a general approach to specifying
recursive descent parsing, whereas we have targeted \ddc{} to the
more-specific domain of parsing ad hoc data. This focus leads to many
features not found in parser combinators, including the implicit
type/value correspondence, the error response mechanism, and arrays.
Each of these features is as fundamental to \ddc{} as dependent sums.
These two approaches demonstrate the idea of a spectrum of
domain-specificity in languages. The relationship between parser
combinators and \ddc{} is like the relationship between a general
purpose language and parser combinators themselves. That is, while
parser combinators form an (embedded) domain-specific language, \ddc{}
constructs form a language that is even more domain-specific.
