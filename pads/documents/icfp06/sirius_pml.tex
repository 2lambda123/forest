\begin{code}\scriptsize
\kw{ptype} Semicolon = Pcharlit(';')
\kw{ptype} Vbar = Pcharlit('|')
\mbox{}
\kw{ptype} Pn\_t = Puint64
\kw{ptype} Pzip = Puint32
\mbox{}
\kw{ptype} Summary\_header = "0|" * Puint32 * Peor
\mbox{}
\kw{pdatatype} Dib\_ramp = 
  Ramp of Pint 
| GenRamp of "no\_ii" * Pint
\mbox{}
\kw{ptype} Order\_header = \{ 
    order\_num : Pint;  
'|'; att\_order\_num : [i:Pint | i < order\_num];  
'|'; ord\_version : Pint;  
'|'; service\_tn : Pn\_t Popt;
'|'; billing\_tn : Pn\_t Popt;  
'|'; nlp\_service\_tn : Pn\_t Popt;  
'|'; nlp\_billing\_tn : Pn\_t Popt;  
'|'; zip\_code : Pzip Popt;  
'|'; ramp : Dib\_ramp;  
'|'; order\_sort : Pstring('|');  
'|'; order\_details : Pint;
'|'; unused : Pstring('|');  
'|'; stream : Pstring('|'); 
'|'
\} 
\mbox{}
\kw{ptype} Event  = Pstring('|') * '|' * Puint32
\kw{ptype} Events = (Event,V_bar,Peor) Plist
\mbox{}
\kw{ptype} Order  = Order\_header * Events
\kw{ptype} Orders = (Order, Peor, Peof) Plist
\mbox{}
\kw{ptype} Source = Summary\_header * Orders\end{code}
