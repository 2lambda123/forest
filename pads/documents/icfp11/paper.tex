\documentclass[natbib]{sigplanconf}

\newif\ifdraft\draftfalse        %% set to false in final version
\newif\ifappendix\appendixtrue   %% set to false in final version
\newif\ifanon\anonfalse          %% set to false in final version

\usepackage{xspace,pads,amsmath,math-cmds,
            math-envs,times,
            verbatim,alltt,multicol,proof,url}
\usepackage{jnf-proof}
\usepackage{mathpartir}
\usepackage{xcolor}
\definecolor{dkblue}{cmyk}{1,.65,0,.3}
\definecolor{dkred}{cmyk}{0,1,.65,.34}
\usepackage[colorlinks=true,linkcolor={black},citecolor={black},urlcolor={black}]{hyperref}
\usepackage{epsfig}
\usepackage{code} 
\usepackage{tikz}
\usepackage{balance}

\begin{document}
\input{definitions}

\conferenceinfo{ICFP '11}{} 
\copyrightyear{2011} 
\copyrightdata{} 

%\titlebanner{}
\title{Forest: A Language and Toolkit For Programming with \Filestores{}}

\ifanon
%Omitted for blind review
\authorinfo{\vskip -2in}
 	   {\vskip -2in}
           {}
\else
\authorinfo{Kathleen Fisher}
	   {Tufts University}{}
%           {{kfisher@eecs.tufts.edu}}
\authorinfo{Nate Foster}
           {Cornell University}{}
%           {{jnfoster@cs.cornell.edu}}
\authorinfo{David Walker}
           {Princeton University}{}
%           {{{dpw}@CS.Princeton.EDU}}
\authorinfo{Kenny Q. Zhu}
           {Shanghai Jiao Tong University}{}
%           {{kzhu@cs.sjtu.edu.cn}}
\fi

\maketitle{}

\begin{abstract}  
\input{abstract}
\end{abstract}

%\category{D.3.m}{Programming languages}{Miscellaneous}
%\terms
%Languages, Algorithms
%\keywords
%Data description languages, file systems, domain specific languages,
% ad hoc data

\input{intro}
\input{examples}
\input{language}
\input{programming}
\input{tools}
\input{implementation}
\input{theory}
\input{related}
\input{conclusions}

\section*{Acknowledgments}
We would like to thank Simon Peyton Jones for extending Haskell's
Quasi-Quoting and Template Haskell mechanisms to support the \forest{}
design and for help in using the mechanisms in general.

This material is based upon work supported under NSF grant CCF-1016937
and ONR grant N00014-09-1-0652. Any opinions, findings, and
recommendations expressed in this material are those of the authors
and do not necessarily reflect the views of the NSF or the ONR.

\bibliographystyle{abbrv}
\balance
\bibliography{pads}

\ifappendix
\onecolumn
\newpage
\appendix

% JNF: TeX hackery for deferring proofs :-)
\closeproofchan
\section{Proofs}

\noindent This appendix contains the proofs of the theorems stated in
Section~\ref{sec:theory}.

\label{sec:proof-appendix}
\input{proof-appendix}

\input{pldiaux}
\fi

\end{document}

%%% Local Variables:
%%% mode: outline-minor
%%% End:

