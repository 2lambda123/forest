\documentclass[12pt]{article}
\usepackage{times,url}
\usepackage{code} 
%\usepackage{proof}
%\usepackage{newcode}
%\usepackage{epsfig}
\usepackage{enumerate}
\usepackage{psfig}

% \usepackage{floatflt}

%\usepackage{graphics}

\input{defs}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\voffset             0in    %  top vertical offset
\hoffset             0in    %  left horizontal offset
\oddsidemargin       0pt    %  Left margin on odd-numbered pages.
\evensidemargin      0pt    %  Left margin on even-numbered pages.
\topmargin           0pt    %  Nominal distance from top of page to top of
\headheight          0pt    %  Height of box containing running head.
\headsep             0pt    %  Space between running head and text.
\textwidth         6.5in    %  Width of text on page
\textheight          9in    %  Height of text on page
\setlength{\parskip}{.05in}
\renewcommand{\floatpagefraction}{.9}
\renewcommand{\textfraction}{0.1}
% \renewcommand{\baselinestretch}{1.01}
%\input{macro}  %%%  other macro definitions

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{center}
{\Large Technical Proposal}
\end{center}

%\begin{center}
{\bf BAA Number:} BAA 09-029

\vspace{.5in}

{\bf Title of Proposal:}  

Automatic Tool Generation, Monitoring, and Anomaly Detection for Networked Applications

\vspace{.5in}

{\bf Identity of prime offerer:}
\begin{quote}
Princeton University \\
Computer Science Department \\
35 Olden St, \\
Princeton, NJ 08540
\end{quote}

\vspace{.5in}

{\bf Technical Contact:}  
\begin{quote}
Vivek Pai \\
(609) 258-2086 \\
(609) 258-1771 \\
{\tt vivek@cs.princeton.edu} \\
\end{quote}

\vspace{.5in}

{\bf Administrative contact:}
\begin{quote}
name \\
tel \\
fax \\
email \\
\end{quote}

\vspace{.5in}

{\bf Duration of effort:} 35 months
%\end{center}

\newpage

\setcounter{page}{1}
\pagenumbering{roman}
\appendix
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Table of Contents}
\tableofcontents\
% \vspace*{.1in} 
% \begin{center}
% {\Large\bf\em{}This is a place-holder. Fastlane generates this page automatically.}
% \end{center} 
\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagenumbering{arabic}
\setcounter{page}{1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Statement of Work}

\input{summary}

\newpage

\section{Technical Approach and Justification}

\input{intro}

\input{pads}

\input{format-inference}

\input{sniffer}

\input{comon}

%\input{monitor-intro}

%\input{pads-intro}

%\subsection{Monitoring Framework}
%\input{monitor}

%\input{repo-spec}

%\input{pads-inference}

\input{future-naval}

% \newpage
\section{Project Schedule and Milestones}

Task 1 -- PADS compiler development
\begin{itemize}
\item (a) Algorithms for context-free and non-context free ({\em i.e.,} data dependent) parser and tool generation (Year 1)
\item (b) Design \& implement specification language for multi-level archives (Year 2)
\item (c) Develop tool generation infrastructure for multi-level archives (Year 3)
\end{itemize}

\noindent
Task 2 -- Classification of Live Data
\begin{itemize}
\item (a) Collection of (live) wire data from networked applications (Year 1)
\item (b) Build PADS specifications for wire formats (Year 1)
\item (c) Development of algorithms to classify data by application, ports, wire formats (Year 2)
\item (d) Development of algorithms for entropy-based matching of unknown data to existing formats (Year 3)
\end{itemize}

\noindent
Task 3 -- Format Inference
\begin{itemize}
\item (a) Collection of (archival) log files from networked applications (Year 1)
\item (b) Build library of PADS specifications for common data formats (Year 1)
\item (c) Implementation of format inference for {\em individual} (archival) log files (Year 1)
\item (d) Development of algorithms to scale format inference engine to handle high-volume data (Year 2)
\item (e) Development of format inference algorithms for multi-level archives (Year 3)
\end{itemize}

\noindent
Task 4 -- Monitoring system integration
\begin{itemize}
\item (a) Development of algorithms for automatic configuration of CoMon monitoring system from format specifications (Year 1)
\item (b) Development of algorithms for classification, trending, and 
anomaly detection using live data (Year 2)
\end{itemize}




\section{Assertion of Data Rights}

There is no proprietary software or data associated with the project.

% \newpage
\section{Deliverables}

The main deliverables of this proposal are:

\begin{itemize}
\item Annual \& Final Reports -- We will produce reports on the
progress of all components of the proposal annually, with a final
report at the conclusion of the award that documents the progress of
all components. Included in the reports will be studies of the
effectiveness of automatic format inference, for both log files and
live data. Also included will be studies of the anomaly detection
behavior, with use cases as appropriate.

\item PADS software -- We will develop the software to generate the
tools necessary for this monitoring and archiving task. This software
will take the PADS specifications, whether generated manually,
inferred automatically from log files, or inferred from live traffic,
and generate the tools to parse and handle data in those formats. The
software will be able to operate on both live instances of data as
well as structured repositories of archived data.

\item Live Data Repository -- The data we gather from running
applications of various types will be a valuable resource for
performing format inference, and this data will be archived for future
use. Most of this data will be gathered by running
publicly-available applications, and will be free of private
information.

\item Log Collection -- We will provide collections of various logs
that we use to perform log inference. Most of these logs will come
from various live services, including those running on PlanetLab.
Where appropriate, anonymization techniques will be applied to
prevent the disclosure of any identifiable data.

\item Library of Log File Formats -- Having performed log inference
and analysis on the log files collected, we will have a collection of
log file formats as PADS specifications. These formats can be used as
a starting point as a repository for PADS specifications, allowing
custom applications to be developed that correlate activity across
applications.

\item Log File Inference Engine -- The log file inference engine will
be released, enabling operators and users to run the inference against
collections of logs that they already have, or for logs being
generated by existing applications.

\item CoMon -- The publicly-accessible CoMon service will be
augmented with the results of this research, allowing faster
configuration for new data formats. The system will also be equipped
to accept PADS specifications from log inference or live data
inference, enabling users to run the inference on their own
repositories and export the PADS specifications for use with CoMon.

\end{itemize}

% \newpage
\section{Management Approach}

\subsection{Facilities available}

The Princeton Department of Computer Science has hundreds of
PC/workstations running a variety of operating systems including
Linux, Microsoft Windows, Mac OS, and Solaris. (A total of 1800 IP
addresses.) Every room in the CS building is wired with multiple
Category 5/5e UTP ports, single-mode fiber, multimode fiber, and RG6
coaxial cable. Networking is supported by a high-speed core switch
with an aggregate switching bandwidth of 480 Gb/sec. Typically,
servers are connected via gigabit Ethernet and user PC/workstations
are connected via switched 100 Mb/sec Ethernet. The Princeton
Department of Computer Science supports remote users via the Internet
and ADSL. The entire building and some outlying areas are covered by
the department's 802.11a/b/g wireless network. The department
infrastructure and users are protected by firewalls, e-mail virus/spam
scanners, and an IDS system. The public computing facilities provide
access to Sun Solaris (Sparc) and Linux (x86) architectures. Public
printers are available on each floor. The department has approximately
800 users that share 35 terabytes of disk space on multiple
fileservers.

\subsection{Collaboration Framework}

Vivek Pai will be primarily responsible for the networking components,
data transfer and archiving components of the proposal.  He will
supervise students and postdoctoral researchers working on these
elements of the grant.  He and Walker have shared a previous NSF award
related to monitoring and programming languages. One result of that
work included moving CoMon from its initial database-backed fixed
configuration to the current lazy storage scheme it uses. In the
process, CoMon was also expanded from being a PlanetLab-centric
monitoring system to a more general-purpose framework which now hosts
other projects as well. Pai, Walker, and their grad students are
already at the same location, facilitating easy collaboration. In
addition to the informal exchanges, they will hold more formal
meetings every month to coordinate progress on the integrative
portions of the proposal.

Walker and Fisher have a 4-year history of working closely together on
the design and implementation of domain-specific languages, as well as
on joint supervision of students.  They will meet weekly over the
phone in order to coordinate the development of \pads{} language and
system as well as the development of format inference and tool
generation technologies.  They will jointly supervise students and
postdoctoral researchers working on language design and format
inference components of the research.

% \newpage
\section{Current and Pending Project and Proposal Submissions}

David Walker's work is supported by the following:

\begin{itemize}
\item Automatic Tool Generation for Ad Hoc Scientific Data, 
NSF   IIS-0612147 \\
7/15/06 -- 6/30/10, \$493,124, 0 summer months for 2010, 
20\% research effort until 6/30/10 \\
The prototype PADS language and compiler was designed.  The focus
was on tool generation for processing individual scientific data
files.  Analysis of data archives for distributed systems and
development of format inference techniques was not proposed.

% \item Collaborative Research:  CSR-PDOS:  
\item Managing OS Extensibility via Aspect Oriented Programming Technology, 
NSF   CNS-0615213 \\
8/1/06 -- 7/31/10, \$316,255, 0 summer months/year, 
5\% effort until 7/31/10 \\
No overlap -- not related to monitoring or PADS

% \item NSF CT:  
\item Well-Typed Trustworthy Computing in the Presence of Transient Faults, 
NSF   CNS-0627650 \\
9/1/06 -- 8/31/10, \$1,100,000, 1 summer month for 2010, 
20\% research effort \\
This grant develops new techniques for verifying fault tolerance
properties in the presence of transient faults.  There is no overlap.

\item Networks Opposing Botnets (NoBot),
NSF   5520404 (Prime ONR) \\
4/1/09 -- 4/12/12, \$400,000, 0.5 summer months in 2009 only,
20\% research effort \\
This grant does not overlap with the current one, but has great
synergies.  New languages are proposed for the purpose of programming
routers with goal of enabling traffic monitoring and botnet detection.

\end {itemize}

\noindent
Vivek Pai's work is supported by the following:

\begin{itemize}


% \item CSR-PDOS:  
\item Reduce, Reuse, Recycle:  Operating System Support for Server Appliance Consolidation, 
NSF CNS-0615237\\
09/01/06 -- 08/31/09, \$422,158, No summer months going forward (award expiring) \\
no effort going forward (award expiring) \\
No overlap -- this research involves caching and filesystem design for server
consolidation. It does not have any monitoring or anomaly detection components.

% \item ARRA:  NeTs:Small: 
\item Content Retrieval Networks:  Network Access for Disadvantaged Regions, 
NSF CNS-0916204\\
09/01/09 -- 08/31/12, \$500,000, One summer month/year,
20\% research effort \\
No overlap -- this research is related to wide-area network data compression and prefetching. It is mostly related to content retrieval, and has no
monitoring or anomaly detection.

\item (Pending) MRI-R2: Development of a Virtual Cloud Computing Infrastructure \\
NSF proposal \#6936780\\
07/01/10 -- 06/30/13, \$2,940,000, Zero summer months \\
No research effort or overlap -- this is an instrumentation proposal


\end{itemize}



%David Walker's work is supported by (1) NSF award CNS-0627650 ($1,100K
%August 2006 - August 2010), (2) NSF award IIS 0612147 
%($493K July 2006 - July 2009 with a no-cost extension until July 2010)
%and (3) Nobot ...

%Vivek Pai's work is supported by

% \newpage
\section{Qualifications}

Our team is uniquely qualified to carry out this research as they
bring the necessary combination of skills in language design,
compilers, distributed systems, large-scale data processing, and
practical system monitoring as well as both academic and industrial
perspectives to the task.  

Kathleen Fisher is a senior researcher at AT\&T Labs,
where she has spent the past nine years on projects
related to managing massive amounts of ad hoc network monitoring data.
In the Hancock project~\cite{kdd00,hancock-toplas}, she helped 
design and implement a C-based
domain-specific programming language for processing massive  
transaction streams.  Hancock programs make it easy to build
and maintain profiles of the entities described in such streams. 
AT\&T uses these profiles to monitor networks for fraud 
and to better understand user characteristics.
As the primary architect of the PADS project~\cite{fisher+:pads,fisher+:popl06,daly+:pads-demo,mandelbaum+:pads-ml}, 
Fisher has helped design and implement the prototype PADS
data description language that will form a foundation for the work
described in this proposal.  
%From PADS descriptions,
%a compiler currently produces a parser and a collection of tools for
%manipulating the associated data.  

Vivek Pai is an expert in the design and implementation of network
applications, having developed numerous high-performance applications
running over PlanetLab~\cite{planetlab} including
CoDeeN~\cite{PaiDark, codeen04}, a content distribution network in daily use that
serves over 25 million requests per day, CoBlitz~\cite{coblitz}, a
scalable large-file transfer platform that is currently used by
CiteSeer and as a Fedora Core mirror, CoDNS~\cite{codns}, a highly
reliable, high-performance DNS lookup system, and
PlanetSeer~\cite{Zhang_OSDI_2004}, a monitor for CoDeeN traffic that looks
for network-level anomalies.  His interest in anomaly detection and
monitoring stems from his applications work -- his group built and
maintains CoMon, the {\it de facto} monitoring system for the
PlanetLab global network testbed, which has been used in over one
dozen other research projects. Between the public-facing monitoring
systems and the private ones developed for specific applications, Pai's
group has collected over 18 Terabytes of compressed log files.

David Walker is an expert in language-based security,
type systems and programming language design.
He was one of the primary designers 
and implementers
of Typed Assembly Language (TAL)~\cite{morrisett+:tal-popl,morrisett+:tal,morrisett+:journal-stal}, 
a highly influential platform
for secure mobile code.  The breakthrough paper on 
TAL~\cite{morrisett+:tal-popl} recently won a 10-year retrospective
award as the most influential paper produced at the 1998 ACM SIGPLAN conference
on principles of programming languages (POPL).  More recently, Walker
has focused on the theory, design, and implementation of a number of
domain-specific languages, including
Polymer~\cite{bauer+:polymer,ligatti+:renewal,ligatti+:edit-automata}, an
extension to Java for application-level security monitoring, and,
together with Fisher, \pads{}~\cite{fisher+:pads,fisher+:popl06,daly+:pads-demo,mandelbaum+:pads-ml}, the domain-specific data-description language that forms 
the foundation for the research in this proposal.

Please find CVs outlining the personnel qualifications in detail attached.


\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{References Cited}

{\bibliographystyle{abbrv}
\bibliography{pads-long,pads,galax,padsdave,vivek}
}
%{\bibliographystyle{abbrv}
% \small\bibliography{pads}
%} 

\end{document}


